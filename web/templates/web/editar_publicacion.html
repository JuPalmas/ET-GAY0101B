{% extends 'web/base.html' %}

{% block content %}

{% load crispy_forms_tags %}
    <head>
      <title>Crear una publicación</title>
    </head>
    <body>      
      {% if user.is_authenticated %}
      
          <div class="row">
            <div class="col-12 col-md-6 offset-md-3">
              <div class="card">
                <div class="card-body">
                  <h2>Modificar publicación</h2>
                  <hr>
                  <form action="" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="input-group mb-3" hidden>
                      
                      <input  type="text" class="form-control" value="{{ user.get_username }}" placeholder="Ingrese un nombre para su usuario"   {{ form.autor }}
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Autor: {{ user.get_username }} </span>
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Titulo: </span>
                    <input type="text" class="form-control" placeholder="Ingrese Titulo" {{ form.titulo }}
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Precio: </span>
                    <input type="number" class="form-control" placeholder="Ingrese Precio" {{ form.precio }}
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Imagen: </span>
                    {{ form.imagen }}
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Descripcion: </span>
                    <input type="text" class="form-control" placeholder="Ingrese Descripcion" {{ form.descripcion }}
                  </div>
                  <div class="input-group mb-3">
                    <span class="input-group">Region: </span>
                    <select class="custom-select">
                     <option {{ form.region }}

                  </div> 
                  <div class="input-group mb-3">
                    <span class="input-group">Comuna: </span>
                    <input type="text" class="form-control" placeholder="Ingrese Comuna" {{ form.comuna }}
                  </div> 
                  <div class="input-group mb-3">
                    <span class="input-group">Direccion: </span>
                    <input type="text" class="form-control" placeholder="Ingrese Direccion" {{ form.direccion }}
                  </div> 
                  <hr>
                  <div class="d-flex justify-content-end">
                    <input type="reset" value="Cancelar" class="btn btn-secondary">
                    &nbsp;
                    <input type="submit" value="Editar" class="btn btn-primary">            
                </div>    
              </form>  
              {{ mensaje }}  
            </div>
          </div>
        </div>
      </div>
      
      {% else %}
        <h1>Debes ingresar para publicar un producto, hazlo <a href="accounts/login">Aquí</a> o también puedes <a href="{% url 'register' %}">Registrarte</a></h1>
      {% endif %}       
    </body>
{% endblock %}